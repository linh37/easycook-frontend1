{"remainingRequest":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/babel-loader/lib/index.js!/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/src/components/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/src/components/Header.vue","mtime":1621061284955},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saW5obmd1eWVuL0Rlc2t0b3AvRWFzeUNvb2sxL2Vhc3lfY29vay1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBiYWNrZXIgZnJvbSAiLi4vdXRpbHMvYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhdGVzdFBvc3Q6IDAsCiAgICAgIG9sZEF2YXRhcjogIiIsCiAgICAgIG5hbWVQb3N0OiAiIiwKICAgICAgY2hhbmdlQXZhdGFyOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRQb3N0OiBmdW5jdGlvbiBsb2FkUG9zdCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJzZWFyY2giLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgc2VhcmNoOiB0aGlzLm5hbWVQb3N0CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhdmF0YXJOZXc6IGZ1bmN0aW9uIGF2YXRhck5ldygpIHsKICAgICAgdGhpcy5jaGFuZ2VBdmF0YXIgPSAhdGhpcy5jaGFuZ2VBdmF0YXI7CiAgICB9LAogICAgb25GaWxlOiBmdW5jdGlvbiBvbkZpbGUoZSkgewogICAgICB0aGlzLm9sZEF2YXRhciA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgfSwKICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgdmFyIGlkID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci5pZDsKICAgICAgZGF0YS5hcHBlbmQoImltYWdlIiwgdGhpcy5vbGRBdmF0YXIpOwogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJjb250ZW50LXR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIKICAgICAgICB9CiAgICAgIH07CiAgICAgIGJhY2tlci5wb3N0KCJhdmF0YXIvIiArIGlkLCBkYXRhLCBjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAibG9naW4iCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLmVycm9ycyA9IGVycm9yLnJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXJuYW1lOiBmdW5jdGlvbiB1c2VybmFtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIubmFtZTsKICAgIH0sCiAgICBhdmF0YXI6IGZ1bmN0aW9uIGF2YXRhcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuaW1hZ2U7CiAgICB9LAogICAgYWRtaW46IGZ1bmN0aW9uIGFkbWluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlci5yb2xlOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikpIHsKICAgICAgICAgICAgICAgIGJhY2tlci5nZXQoImluZm8iKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMpIF90aGlzMi4kc3RvcmUuc3RhdGUudXNlciA9IHJlc3BvbnNlLmRhdGEudXNlcjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA,OAAA,MAAA,MAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,CADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,EAAA,oBAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA,QAAA;AAAA,QAAA,MAAA,EAAA;AAAA,UAAA,MAAA,EAAA,KAAA;AAAA;AAAA,OAAA;AACA,KAHA;AAKA,IAAA,SAAA,EAAA,qBAAA;AACA,WAAA,YAAA,GAAA,CAAA,KAAA,YAAA;AACA,KAPA;AAQA,IAAA,MAAA,EAAA,gBAAA,CAAA,EAAA;AACA,WAAA,SAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,KAVA;AAWA,IAAA,MAAA,EAAA,kBAAA;AAAA;;AACA,UAAA,IAAA,GAAA,IAAA,QAAA,EAAA;AACA,UAAA,EAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,SAAA;AAEA,UAAA,MAAA,GAAA;AACA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA;AADA,OAAA;AAMA,MAAA,MAAA,CACA,IADA,CACA,YAAA,EADA,EACA,IADA,EACA,MADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,OANA,EAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA;AACA,OATA;AAUA;AAhCA,GATA;AA2CA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAHA;AAIA,IAAA,MAJA,oBAIA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,KAAA;AACA,KANA;AAOA,IAAA,KAPA,mBAOA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA;AATA,GA3CA;AAsDA,EAAA,OAtDA,qBAsDA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,kBAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,EAAA;AACA,gBAAA,MAAA,CAAA,GAAA,CAAA,MAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,sBAAA,QAAA,CAAA,IAAA,CAAA,MAAA,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,iBAFA;AAGA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AA5DA,CAAA","sourcesContent":["<template>\n  <header>\n    <b-navbar toggleable=\"lg\" type=\"light\" variant=\"light\">\n      <div class=\"container\">\n        <b-navbar-brand>\n          <router-link to=\"/\">\n            <img src=\"../assets/logo.png\" height=\"40px\" alt=\"\" />\n          </router-link>\n        </b-navbar-brand>\n\n        <b-navbar-toggle target=\"nav-collapse\"></b-navbar-toggle>\n\n        <b-collapse id=\"nav-collapse\" is-nav>\n          <b-navbar-nav class=\"mr-auto\">\n            <div class=\"input-group\">\n              <input type=\"text\" class=\"form-control\" v-model=\"namePost\" />\n              <div class=\"input-group-append\">\n                <span class=\"btn btn-success\" @click=\"loadPost(namePost, 10)\">\n                  Tìm kiếm\n                </span>\n              </div>\n            </div>\n          </b-navbar-nav>\n\n          <b-navbar-nav class=\"ml-auto\">\n            <div v-if=\"admin == 'admin'\">\n              <router-link\n                class=\"btn btn-info rounded-pill m-2\"\n                to=\"/create\"\n              >\n                <b-icon icon=\"arrow-up-right-square\" />\n                Công thức\n              </router-link>\n              <router-link\n                class=\"btn btn-info rounded-pill m-2\"\n                to=\"/dashboard\"\n              >\n                <b-icon icon=\"joystick\" />\n                Quản lý\n              </router-link>\n            </div>\n            <div v-if=\"username\">\n              <b-nav-item-dropdown right>\n                <template #button-content>\n                  <img\n                    :src=\"avatar\"\n                    class=\"rounded-circle\"\n                    alt=\"\"\n                    height=\"40px\"\n                    width=\"40px\"\n                  />\n                  {{ username }}\n                </template>\n                <b-dropdown-item v-if=\"admin == 'admin'\"> </b-dropdown-item>\n                <b-dropdown-item>\n                  <b-icon icon=\"person-lines-fill\" />\n                  <span class=\"text-primary\" @click.prevent=\"avatarNew\">\n                    Ảnh đại diện</span\n                  >\n                </b-dropdown-item>\n                <b-dropdown-item>\n                  <b-icon icon=\"heart-fill\" />\n                  <router-link to=\"/love\"> Yêu thích </router-link>\n                </b-dropdown-item>\n                <b-dropdown-item>\n                  <b-icon icon=\"box-arrow-in-right\" />\n                  <router-link class=\"text-danger\" to=\"/logout\">\n                    Đăng xuất\n                  </router-link>\n                </b-dropdown-item>\n              </b-nav-item-dropdown>\n            </div>\n            <div v-else>\n              <router-link class=\"btn btn-outline-primary m-2\" to=\"/register\">\n                Đăng ký\n              </router-link>\n              <router-link class=\"btn btn-danger\" to=\"/login\">\n                Đăng nhập\n              </router-link>\n            </div>\n          </b-navbar-nav>\n        </b-collapse>\n      </div>\n    </b-navbar>\n    <div v-if=\"changeAvatar\" class=\"avatar\">\n      <form class=\"avatar-content animate\" @submit.prevent=\"handle()\">\n        <div class=\"container-avatar\">\n          <label><b>Ảnh đại diện</b></label>\n\n          <input\n            type=\"file\"\n            name=\"image\"\n            class=\"form-control-file\"\n            @change=\"onFile\"\n          />\n          <br />\n          <button type=\"submit\" class=\"btn btn-success\">Thay đổi</button>\n        </div>\n        <em>Vui lòng chọn ảnh có dung lượng nhỏ hơn 1MB.</em>\n\n        <div class=\"container-avatar\" style=\"background-color: #f1f1f1\">\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"avatarNew\">\n            Hủy bỏ\n          </button>\n        </div>\n      </form>\n    </div>\n  </header>\n</template>\n\n<script>\nimport backer from \"../utils/axios\";\n\nexport default {\n  data() {\n    return {\n      latestPost: 0,\n      oldAvatar: \"\",\n      namePost: \"\",\n      changeAvatar: false,\n    };\n  },\n  methods: {\n    loadPost: function () {\n        this.$router.push({ name: \"search\", params: { search: this.namePost }});\n    },\n\n    avatarNew: function () {\n      this.changeAvatar = !this.changeAvatar;\n    },\n    onFile: function (e) {\n      this.oldAvatar = e.target.files[0];\n    },\n    handle: function () {\n      let data = new FormData();\n      let id = this.$store.state.user.id;\n      data.append(\"image\", this.oldAvatar);\n\n      const config = {\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n        },\n      };\n\n      backer\n        .post(\"avatar/\" + id, data, config)\n        .then((response) => {\n          if (response.data.status) {\n            this.$router.push({ name: \"login\" });\n          }\n        })\n        .catch((error) => {\n          this.errors = error.response.data;\n        });\n    },\n  },\n  computed: {\n    username() {\n      return this.$store.state.user.name;\n    },\n    avatar() {\n      return this.$store.state.user.image;\n    },\n    admin() {\n      return this.$store.state.user.role;\n    },\n  },\n  async mounted() {\n    if (localStorage.getItem(\"token\")) {\n      backer.get(\"info\").then((response) => {\n        if (response.data.status) this.$store.state.user = response.data.user;\n      });\n    }\n  },\n};\n</script>\n\n<style scoped>\n.avatar {\n  position: fixed;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgb(0, 0, 0);\n  background-color: rgba(0, 0, 0, 0.4);\n  padding-top: 60px;\n}\n.container-avatar {\n  padding: 16px;\n}\n.avatar-content {\n  background-color: #fefefe;\n  margin: 5% auto 15% auto; /* 5% from the top, 15% from the bottom and centered */\n  border: 1px solid #888;\n  width: 80%; /* Could be more or less, depending on screen size */\n}\n\n.animate {\n  -webkit-animation: animatezoom 0.6s;\n  animation: animatezoom 0.6s;\n}\n\n@-webkit-keyframes animatezoom {\n  from {\n    -webkit-transform: scale(0);\n  }\n  to {\n    -webkit-transform: scale(1);\n  }\n}\n\n@keyframes animatezoom {\n  from {\n    transform: scale(0);\n  }\n  to {\n    transform: scale(1);\n  }\n}\n</style>"],"sourceRoot":"src/components"}]}
{"remainingRequest":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/babel-loader/lib/index.js!/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/src/pages/Post/Create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/src/pages/Post/Create.vue","mtime":1621061284959},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBiYWNrZXIgZnJvbSAiLi4vLi4vdXRpbHMvYXhpb3MiOwppbXBvcnQgSGVhZGVyIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvSGVhZGVyIjsKaW1wb3J0IHZTZWxlY3QgZnJvbSAidnVlLXNlbGVjdCI7CmltcG9ydCAidnVlLXNlbGVjdC9kaXN0L3Z1ZS1zZWxlY3QuY3NzIjsKaW1wb3J0IEZvb3RlciBmcm9tICIuLi8uLi9jb21wb25lbnRzL0Zvb3RlciI7CmltcG9ydCBDS0VkaXRvciBmcm9tICJAY2tlZGl0b3IvY2tlZGl0b3I1LXZ1ZTIiOwppbXBvcnQgQ2xhc3NpY0VkaXRvciBmcm9tICJAY2tlZGl0b3IvY2tlZGl0b3I1LWJ1aWxkLWNsYXNzaWMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkbWluOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnJvbGUsCiAgICAgIHBvc3Q6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBjb250ZW50OiAiIiwKICAgICAgICBjYXRlZ29yeV9pZDogIiIsCiAgICAgICAgaW1hZ2U6ICIiCiAgICAgIH0sCiAgICAgIGluZ3JlZGllbnQ6ICIiLAogICAgICBpbmdyZWRpZW50czogW10sCiAgICAgIGNoZWNrZWRJbmdyZWRpZW50czogW10sCiAgICAgIHF1YW50aXR5OiBbXSwKICAgICAgdW5pdDogW10sCiAgICAgIGltYWdlOiAiIiwKICAgICAgbWFpbjogW10sCiAgICAgIGNhdGVnb3JpZXM6IFtdLAogICAgICBlcnJvcnM6IHt9LAogICAgICBlZGl0b3I6IENsYXNzaWNFZGl0b3IKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXI6IEhlYWRlciwKICAgIHZTZWxlY3Q6IHZTZWxlY3QsCiAgICBGb290ZXI6IEZvb3RlciwKICAgIGNrZWRpdG9yOiBDS0VkaXRvci5jb21wb25lbnQKICB9LAogIG1ldGhvZHM6IHsKICAgIGZhaWx1cmU6IGZ1bmN0aW9uIGZhaWx1cmUoKSB7CiAgICAgIHRoaXMuJGJ2VG9hc3QudG9hc3QoIlh1XHUxRUE1dCBoaVx1MUVDN24gbFx1MUVEN2ksIHZ1aSBsXHhGMm5nIGtpXHUxRUMzbSB0cmEgdlx4RTAgdGlcdTFFQkZuIGhceEUwbmggdFx1MUVBMW8gbFx1MUVBMWkuIiwgewogICAgICAgIHRpdGxlOiAiQ1x4RjMgbFx1MUVEN2kiLAogICAgICAgIHZhcmlhbnQ6ICJkYW5nZXIiLAogICAgICAgIHNvbGlkOiB0cnVlCiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRDYXRlZ29yeTogZnVuY3Rpb24gbG9hZENhdGVnb3J5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE7CiAgICAgIGJhY2tlci5nZXQoImNhdGVnb3J5P3BhZ2U9Ii5jb25jYXQocGFnZSwgIiZwZXJfcGFnZT0xMDAwIikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuY2F0ZWdvcmllcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZEluZ3JlZGllbnQ6IGZ1bmN0aW9uIGxvYWRJbmdyZWRpZW50KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBuYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAiIjsKICAgICAgYmFja2VyLmdldCgiaW5ncmVkaWVudD9zZWFyY2g9Ii5jb25jYXQobmFtZSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmluZ3JlZGllbnRzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgb25GaWxlOiBmdW5jdGlvbiBvbkZpbGUoZSkgewogICAgICB0aGlzLnBvc3QuaW1hZ2UgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgdGhpcy5jcmVhdGVJbWFnZSh0aGlzLnBvc3QuaW1hZ2UpOwogICAgfSwKICAgIGNyZWF0ZUltYWdlOiBmdW5jdGlvbiBjcmVhdGVJbWFnZShmaWxlKSB7CiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICB2YXIgdm0gPSB0aGlzOwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdm0uaW1hZ2UgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgIH07CgogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIH0sCiAgICBoYW5kbGU6IGZ1bmN0aW9uIGhhbmRsZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgbnVtYmVySW5ncmVkaWVudHMgPSB0aGlzLmNoZWNrZWRJbmdyZWRpZW50cy5sZW5ndGg7CiAgICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGRhdGEuYXBwZW5kKCJpbWFnZSIsIHRoaXMucG9zdC5pbWFnZSk7CiAgICAgIGRhdGEuYXBwZW5kKCJuYW1lIiwgdGhpcy5wb3N0Lm5hbWUpOwogICAgICBkYXRhLmFwcGVuZCgiY29udGVudCIsIHRoaXMucG9zdC5jb250ZW50KTsKICAgICAgZGF0YS5hcHBlbmQoImNhdGVnb3J5X2lkIiwgdGhpcy5wb3N0LmNhdGVnb3J5X2lkLmlkKTsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiY29udGVudC10eXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgfQogICAgICB9OwogICAgICBiYWNrZXIucG9zdCgicG9zdCIsIGRhdGEsIGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgIHZhciBpZCA9IHJlc3BvbnNlLmRhdGEucG9zdC5pZDsKCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlckluZ3JlZGllbnRzOyBpKyspIHsKICAgICAgICAgICAgdmFyIGluZ3JlZGllbnRPbmUgPSB7CiAgICAgICAgICAgICAgaW5ncmVkaWVudDogX3RoaXMzLmNoZWNrZWRJbmdyZWRpZW50c1tpXS5pZCwKICAgICAgICAgICAgICBxdWFudGl0eTogX3RoaXMzLnF1YW50aXR5W2ldIHx8IDEsCiAgICAgICAgICAgICAgbWFpbjogX3RoaXMzLm1haW5baV0gfHwgZmFsc2UKICAgICAgICAgICAgfTsKICAgICAgICAgICAgYmFja2VyLnBvc3QoImluZ3JlZGllbnRfcG9zdC8iICsgaWQsIGluZ3JlZGllbnRPbmUpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAiaG9tZSIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMzLmVycm9ycyA9IGVycm9yLnJlc3BvbnNlLmRhdGE7CgogICAgICAgIF90aGlzMy5mYWlsdXJlKCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZENhdGVnb3J5KCk7CiAgICB0aGlzLmxvYWRJbmdyZWRpZW50KCk7CiAgfQp9Ow=="},{"version":3,"sources":["Create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA,OAAA,MAAA,MAAA,mBAAA;AACA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,OAAA,MAAA,YAAA;AACA,OAAA,gCAAA;AACA,OAAA,MAAA,MAAA,yBAAA;AAEA,OAAA,QAAA,MAAA,0BAAA;AACA,OAAA,aAAA,MAAA,mCAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,WAAA,EAAA,EAHA;AAIA,QAAA,KAAA,EAAA;AAJA,OAFA;AAQA,MAAA,UAAA,EAAA,EARA;AASA,MAAA,WAAA,EAAA,EATA;AAUA,MAAA,kBAAA,EAAA,EAVA;AAWA,MAAA,QAAA,EAAA,EAXA;AAYA,MAAA,IAAA,EAAA,EAZA;AAaA,MAAA,KAAA,EAAA,EAbA;AAcA,MAAA,IAAA,EAAA,EAdA;AAeA,MAAA,UAAA,EAAA,EAfA;AAgBA,MAAA,MAAA,EAAA,EAhBA;AAiBA,MAAA,MAAA,EAAA;AAjBA,KAAA;AAmBA,GArBA;AAsBA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,OAAA,EAAA,OAFA;AAGA,IAAA,MAAA,EAAA,MAHA;AAIA,IAAA,QAAA,EAAA,QAAA,CAAA;AAJA,GAtBA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,OAAA,EAAA,mBAAA;AACA,WAAA,QAAA,CAAA,KAAA,uGAEA;AACA,QAAA,KAAA,kBADA;AAEA,QAAA,OAAA,EAAA,QAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAFA;AAQA,KAVA;AAWA,IAAA,YAAA,EAAA,wBAAA;AAAA;;AAAA,UAAA,IAAA,uEAAA,CAAA;AACA,MAAA,MAAA,CAAA,GAAA,yBAAA,IAAA,qBAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAFA;AAGA,KAfA;AAgBA,IAAA,cAAA,EAAA,0BAAA;AAAA;;AAAA,UAAA,IAAA,uEAAA,EAAA;AACA,MAAA,MAAA,CAAA,GAAA,6BAAA,IAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAFA;AAGA,KApBA;AAqBA,IAAA,MAAA,EAAA,gBAAA,CAAA,EAAA;AACA,WAAA,IAAA,CAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,WAAA,WAAA,CAAA,KAAA,IAAA,CAAA,KAAA;AACA,KAxBA;AAyBA,IAAA,WAAA,EAAA,qBAAA,IAAA,EAAA;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;AACA,UAAA,EAAA,GAAA,IAAA;;AACA,MAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,QAAA,EAAA,CAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;AACA,OAFA;;AAGA,MAAA,MAAA,CAAA,aAAA,CAAA,IAAA;AACA,KAhCA;AAiCA,IAAA,MAAA,EAAA,kBAAA;AAAA;;AACA,UAAA,iBAAA,GAAA,KAAA,kBAAA,CAAA,MAAA;AACA,UAAA,IAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,OAAA,EAAA,KAAA,IAAA,CAAA,KAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,MAAA,EAAA,KAAA,IAAA,CAAA,IAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,SAAA,EAAA,KAAA,IAAA,CAAA,OAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,aAAA,EAAA,KAAA,IAAA,CAAA,WAAA,CAAA,EAAA;AAEA,UAAA,MAAA,GAAA;AACA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA;AADA,OAAA;AAMA,MAAA,MAAA,CACA,IADA,CACA,MADA,EACA,IADA,EACA,MADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,cAAA,EAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;;AACA,eAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,CAAA,EAAA,EAAA;AACA,gBAAA,aAAA,GAAA;AACA,cAAA,UAAA,EAAA,MAAA,CAAA,kBAAA,CAAA,CAAA,EAAA,EADA;AAEA,cAAA,QAAA,EAAA,MAAA,CAAA,QAAA,CAAA,CAAA,KAAA,CAFA;AAGA,cAAA,IAAA,EAAA,MAAA,CAAA,IAAA,CAAA,CAAA,KAAA;AAHA,aAAA;AAKA,YAAA,MAAA,CAAA,IAAA,CAAA,qBAAA,EAAA,EAAA,aAAA;AACA;;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,OAfA,EAgBA,KAhBA,CAgBA,UAAA,KAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA;;AACA,QAAA,MAAA,CAAA,OAAA;AACA,OAnBA;AAoBA;AAnEA,GA5BA;AAiGA,EAAA,OAjGA,qBAiGA;AACA,SAAA,YAAA;AACA,SAAA,cAAA;AACA;AApGA,CAAA","sourcesContent":["<template>\n  <div>\n    <Header />\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-xl-12 border border-info p-5 mt-5 mb-5\">\n          <div class=\"form-group\">\n            <label class=\"form-control-label\">Tên công thức: </label>\n            <input\n              type=\"text\"\n              name=\"name\"\n              class=\"form-control\"\n              v-model=\"post.name\"\n            />\n          </div>\n\n          <div v-if=\"image\">\n            Hình ảnh mẫu:\n            <br />\n            <img :src=\"image\" class=\"img-responsive\" />\n          </div>\n          <label class=\"form-control-label\">Hình ảnh: </label>\n          <input\n            type=\"file\"\n            name=\"image\"\n            class=\"form-control-file\"\n            @change=\"onFile\"\n          />\n\n          <br />\n\n          <div class=\"form-group\">\n            <label class=\"form-control-label\">Các nguyên liệu: </label>\n            <div\n              class=\"form-row m-1\"\n              v-for=\"(ingredient, index) in checkedIngredients\"\n              :key=\"'A' + index\"\n            >\n              <div class=\"col-4\">\n                {{ ingredient.name }}\n              </div>\n              <div class=\"col-2\">\n                <input\n                  type=\"text\"\n                  v-model=\"ingredient.unit\"\n                  class=\"form-control\"\n                  placeholder=\"Đơn vị tính\"\n                  readonly\n                />\n              </div>\n              <div class=\"col-2\">\n                <input\n                  type=\"number\"\n                  step=\"0.1\"\n                  v-model=\"quantity[index]\"\n                  class=\"form-control\"\n                  placeholder=\"Số lượng\"\n                />\n              </div>\n              <div class=\"col-4 p-2\">\n                <input\n                  type=\"radio\"\n                  :id=\"'yes' + index\"\n                  value=\"1\"\n                  v-model=\"main[index]\"\n                  class=\"mr-2\"\n                />\n                <label :for=\"'yes' + index\">Nguyên liệu chính</label>\n                <input\n                  type=\"radio\"\n                  :id=\"'no' + index\"\n                  value=\"0\"\n                  v-model=\"main[index]\"\n                />\n                <label :for=\"'no' + index\">Không</label>\n              </div>\n            </div>\n            <div class=\"input-group mt-3 mb-2\">\n              <div class=\"input-group-prepend\">\n                <span class=\"input-group-text\"><b-icon icon=\"search\" /></span>\n              </div>\n              <input\n                type=\"text\"\n                class=\"form-control\"\n                v-model=\"ingredient\"\n                @change=\"loadIngredient(ingredient)\"\n              />\n            </div>\n            <span\n              v-for=\"(ingredient, index) in ingredients.slice(0, 12)\"\n              :key=\"index\"\n              class=\"border p-1 m-1\"\n            >\n              <input\n                :id=\"ingredient.id\"\n                :value=\"{\n                  id: ingredient.id,\n                  name: ingredient.name,\n                  unit: ingredient.unit,\n                }\"\n                name=\"product\"\n                type=\"checkbox\"\n                v-model=\"checkedIngredients\"\n              />\n              <label :for=\"ingredient.id\"\n                ><span>{{ ingredient.name }}</span></label\n              > </span\n            >......\n          </div>\n\n          <div class=\"form-group\">\n            <label class=\"form-control-label\">Nội dung: </label>\n            <ckeditor\n              :editor=\"editor\"\n              class=\"form-control\"\n              name=\"content\"\n              height=\"500px\"\n              v-model=\"post.content\"\n            ></ckeditor>\n          </div>\n\n          <div class=\"form-group\">\n            <label class=\"form-control-label\">Chuyên mục: </label>\n            <v-select\n              v-model=\"post.category_id\"\n              :options=\"categories\"\n              label=\"name\"\n            >\n            </v-select>\n          </div>\n          <div v-if=\"errors.errors\">\n            <div\n              class=\"alert alert-danger\"\n              v-for=\"error in errors.errors\"\n              :key=\"error.id\"\n            >\n              {{ error[0] }}\n            </div>\n          </div>\n\n          <div class=\"alert alert-info\" v-if=\"errors.message\">\n            {{ errors.message }}\n          </div>\n          <div class=\"d-flex align-items-center\">\n            <button\n              type=\"submit\"\n              @click=\"handle()\"\n              class=\"btn btn-outline-primary\"\n            >\n              Tạo công thức\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <Footer />\n  </div>\n</template>\n<script>\nimport backer from \"../../utils/axios\";\nimport Header from \"../../components/Header\";\nimport vSelect from \"vue-select\";\nimport \"vue-select/dist/vue-select.css\";\nimport Footer from \"../../components/Footer\";\n\nimport CKEditor from \"@ckeditor/ckeditor5-vue2\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nexport default {\n  data() {\n    return {\n      admin: this.$store.state.user.role,\n      post: {\n        name: \"\",\n        content: \"\",\n        category_id: \"\",\n        image: \"\",\n      },\n      ingredient: \"\",\n      ingredients: [],\n      checkedIngredients: [],\n      quantity: [],\n      unit: [],\n      image: \"\",\n      main: [],\n      categories: [],\n      errors: {},\n      editor: ClassicEditor,\n    };\n  },\n  components: {\n    Header,\n    vSelect,\n    Footer,\n    ckeditor: CKEditor.component,\n  },\n  methods: {\n    failure: function () {\n      this.$bvToast.toast(\n        `Xuất hiện lỗi, vui lòng kiểm tra và tiến hành tạo lại.`,\n        {\n          title: `Có lỗi`,\n          variant: \"danger\",\n          solid: true,\n        }\n      );\n    },\n    loadCategory: function (page = 1) {\n      backer.get(`category?page=${page}&per_page=1000`).then((response) => {\n        this.categories = response.data.data;\n      });\n    },\n    loadIngredient: function (name = \"\") {\n      backer.get(`ingredient?search=${name}`).then((response) => {\n        this.ingredients = response.data;\n      });\n    },\n    onFile: function (e) {\n      this.post.image = e.target.files[0];\n      this.createImage(this.post.image);\n    },\n    createImage: function (file) {\n      let reader = new FileReader();\n      let vm = this;\n      reader.onload = (e) => {\n        vm.image = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    handle: function () {\n      let numberIngredients = this.checkedIngredients.length;\n      let data = new FormData();\n      data.append(\"image\", this.post.image);\n      data.append(\"name\", this.post.name);\n      data.append(\"content\", this.post.content);\n      data.append(\"category_id\", this.post.category_id.id);\n\n      const config = {\n        headers: {\n          \"content-type\": \"multipart/form-data\",\n        },\n      };\n\n      backer\n        .post(\"post\", data, config)\n        .then((response) => {\n          if (response.data.status) {\n            let id = response.data.post.id;\n            for (let i = 0; i < numberIngredients; i++) {\n              let ingredientOne = {\n                ingredient: this.checkedIngredients[i].id,\n                quantity: this.quantity[i] || 1,\n                main: this.main[i] || false,\n              };\n              backer.post(\"ingredient_post/\" + id, ingredientOne);\n            }\n            this.$router.push({ name: \"home\" });\n          }\n        })\n        .catch((error) => {\n          this.errors = error.response.data;\n          this.failure();\n        });\n    },\n  },\n  mounted() {\n    this.loadCategory();\n    this.loadIngredient();\n  },\n};\n</script>\n<style>\n.ck-editor__editable {\n  min-height: 500px;\n}\n</style>"],"sourceRoot":"src/pages/Post"}]}
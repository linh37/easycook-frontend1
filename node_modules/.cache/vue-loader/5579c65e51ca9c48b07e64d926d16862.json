{"remainingRequest":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/src/components/List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/src/components/List.vue","mtime":1622447166573},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAidnVlLXBhZ2luYXRpb24tMiI7CmltcG9ydCBiYWNrZXIgZnJvbSAiLi4vdXRpbHMvYXhpb3MiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYWdlOiAxLAogICAgICBtb21lbnQ6IG1vbWVudCwKICAgICAgc3RvcmVQb3N0OiAiIiwKICAgICAgc2hvdzogZmFsc2UsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkOwogICAgfSwKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFBhZ2luYXRpb24sCiAgfSwKICBtZXRob2RzOiB7CiAgICBzdG9yZTogZnVuY3Rpb24gKHBvc3QsIGlkKSB7CiAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgICBiYWNrZXIucG9zdCgicG9zdF91c2VyLyIgKyB0aGlzLnVzZXIsIHsgcG9zdDogcG9zdCB9KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cykgewogICAgICAgICAgdGhpcy5wb3N0c1tpZF0uc3RvcmUgPSAhdGhpcy5wb3N0c1tpZF0uc3RvcmU7CiAgICAgICAgICB0aGlzLnN0b3JlUG9zdExvYWQoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRQb3N0OiBmdW5jdGlvbiAocGFnZSkgewogICAgICB0aGlzLiRwYXJlbnQubG9hZFBvc3QocGFnZSk7CiAgICB9LAogICAgc3RvcmVQb3N0TG9hZDogZnVuY3Rpb24gKCkgewogICAgICBiYWNrZXIuZ2V0KCJpbmZvIikudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBiYWNrZXIuZ2V0KCJwb3N0X3VzZXIvIiArIHJlc3BvbnNlLmRhdGEudXNlci5pZCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuc3RvcmVQb3N0ID0gcmVzcG9uc2UuZGF0YS5wb3N0OwogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvc3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5zdG9yZVBvc3QubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICBpZiAodGhpcy5wb3N0c1tpXS5pZCA9PSB0aGlzLnN0b3JlUG9zdFtqXS5wb3N0X2lkKSB7CiAgICAgICAgICAgICAgICB0aGlzLnBvc3RzW2ldLnN0b3JlID0gMTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICB9LAoKICBwcm9wczogWyJwb3N0cyIsICJ0b3RhbCIsICJwZXJQYWdlIiwgImNvbCJdLAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnN0b3JlUG9zdExvYWQoKTsKICB9LAp9Owo="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"item-container\">\n    <div class=\"row\">\n      <div :class=\"`col-xl-${col}`\" v-for=\"(post, index) in posts\" :key=\"index\">\n        <div class=\"item__wrap\">\n          <div class=\"img__wrap\">\n            <router-link\n              :to=\"{ name: 'view', params: { id: post.id, slug: post.slug } }\"\n            >\n              <img class=\"img-fluid\" :src=\"post.image\" alt=\"\" />\n            </router-link>\n          </div>\n          <div class=\"img__title\">\n            <router-link\n              :to=\"{ name: 'view', params: { id: post.id, slug: post.slug } }\"\n            >\n              {{ post.name }}\n            </router-link>\n\n            <div class=\"d-flex p-2 justify-content-between align-items-center\">\n              <div>\n                <b-icon icon=\"calendar\" class=\"mr-1\" />Ngày đăng:\n                {{ moment(post.updated_at).format(\"DD-MM-YYYY\") }}\n                <br />\n                <b-icon icon=\"clock\" class=\"mr-1\" />Giờ đăng:\n                {{ moment(post.updated_at).format(\"h:mm a\") }}\n              </div>\n              <span v-if=\"show\">\n                <b-icon\n                  :icon=\"post.store ? 'bookmark-check-fill' : 'bookmark'\"\n                  class=\"h3\"\n                  @click=\"store(post.id, index)\"\n                  v-b-tooltip.hover\n                  :title=\"post.store ? 'Hủy lưu công thức' : 'Lưu công thức'\"\n                />\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-xl-12\">\n        <div class=\"d-flex bg-dark p-2 justify-content-center\">\n          <pagination\n            v-model=\"page\"\n            :records=\"total\"\n            :per-page=\"perPage\"\n            @paginate=\"loadPost\"\n            :options=\"{ texts: { count: '' } }\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport Pagination from \"vue-pagination-2\";\nimport backer from \"../utils/axios\";\n\nexport default {\n  data() {\n    return {\n      page: 1,\n      moment: moment,\n      storePost: \"\",\n      show: false,\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.id;\n    },\n  },\n  components: {\n    Pagination,\n  },\n  methods: {\n    store: function (post, id) {\n      this.show = false;\n      backer.post(\"post_user/\" + this.user, { post: post }).then((response) => {\n        if (response.data.status) {\n          this.posts[id].store = !this.posts[id].store;\n          this.storePostLoad();\n        }\n      });\n    },\n    loadPost: function (page) {\n      this.$parent.loadPost(page);\n    },\n    storePostLoad: function () {\n      backer.get(\"info\").then((response) => {\n        backer.get(\"post_user/\" + response.data.user.id).then((response) => {\n          this.storePost = response.data.post;\n          for (let i = 0; i < this.posts.length; i++) {\n            for (let j = 0; j < this.storePost.length; j++) {\n              if (this.posts[i].id == this.storePost[j].post_id) {\n                this.posts[i].store = 1;\n              }\n            }\n          }\n          this.show = true;\n        });\n      });\n    },\n  },\n\n  props: [\"posts\", \"total\", \"perPage\", \"col\"],\n  mounted() {\n    this.storePostLoad();\n  },\n};\n</script>\n\n<style scoped>\n.item__wrap {\n  box-shadow: 3px 3px 10px #000;\n  height: 92%;\n  margin: 15px 0;\n}\n.item__wrap:hover {\n  box-shadow: 3px 3px 15px #000;\n}\n.img__wrap {\n  height: 66%;\n  margin: 0;\n  padding: 0;\n  position: relative;\n}\n.img__title {\n  background-color: #fff;\n  padding: 5px 10px;\n}\n.img__title a {\n  text-decoration: none;\n  font-weight: bolder;\n  font-size: 25px;\n}\n.img-fluid {\n  height: 100%;\n  width: 100%;\n  object-fit:fill ;\n}\n.item-container {\n  width: 100%;\n}\n</style>"]}]}
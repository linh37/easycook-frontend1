{"remainingRequest":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/src/pages/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/src/pages/Home.vue","mtime":1621061284958},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBiYWNrZXIgZnJvbSAiLi4vdXRpbHMvYXhpb3MiOwppbXBvcnQgRm9vdGVyIGZyb20gIi4uL2NvbXBvbmVudHMvRm9vdGVyIjsKCmltcG9ydCBIZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9IZWFkZXIiOwppbXBvcnQgQ2Fyb3VzZWwgZnJvbSAiLi4vY29tcG9uZW50cy9DYXJvdXNlbCI7CmltcG9ydCBMaXN0IGZyb20gIi4uL2NvbXBvbmVudHMvTGlzdCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvc3RzOiBbXSwKICAgICAgY2F0ZWdvcmllczogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBwZXJQYWdlOiAxMCwKICAgICAgcGVyTG92ZTogNSwKICAgICAgdG90YWxMb3ZlOiAwLAogICAgICBsb3ZlOiAwLAogICAgICBpOiA1LAogICAgICB1c2VyeDogZmFsc2UsCiAgICAgIGNvbDogNiwKICAgICAgbG92ZUxpc3Q6IFtdLAogICAgICBzdG9yZVBvc3Q6ICIiLAogICAgICByZXR1cm5lZFRhcmdldDoge30sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbW9yZTogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmkgKz0gNTsKICAgIH0sCiAgICBsb2FkUG9zdDogZnVuY3Rpb24gKHBhZ2UgPSAxKSB7CiAgICAgIGJhY2tlci5nZXQoYHBvc3Q/cGFnZT0ke3BhZ2V9YCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLnBvc3RzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsOwogICAgICAgIHRoaXMucGVyUGFnZSA9IHJlc3BvbnNlLmRhdGEucGVyX3BhZ2U7CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRMb3ZlOiBmdW5jdGlvbiAoKSB7CiAgICAgIGxldCBhcnIgPSBbXTsKICAgICAgYmFja2VyLmdldCgiaW5mbyIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgYmFja2VyCiAgICAgICAgICAuZ2V0KCJpbmdyZWRpZW50X3VzZXIvIiArIHJlc3BvbnNlLmRhdGEudXNlci5pZCkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICBsZXQgbGlrZWQgPSByZXNwb25zZS5kYXRhLmxpc3RMaWtlZDsKICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCBpbiByZXNwb25zZS5kYXRhLmhpZ2gpIHsKICAgICAgICAgICAgICAgIGJhY2tlcgogICAgICAgICAgICAgICAgICAuZ2V0KGBsb3ZlP2lkPSR7cmVzcG9uc2UuZGF0YS5oaWdoW2luZGV4XX1gKQogICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGFyciA9IGFyci5jb25jYXQocmVzcG9uc2UuZGF0YS5sb3ZlLmRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb3ZlTGlzdCA9IGFycjsKCiAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGFyci5sZW5ndGg7IHgrKykgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB6ID0gMDsgeiA8IGxpa2VkLmxlbmd0aDsgeisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyclt4XS5wb3N0X2lkID09IGxpa2VkW3pdLnBvc3RfaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoeCwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHkgPSB4ICsgMTsgeSA8IGFyci5sZW5ndGg7IHkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJbeF0ucG9zdF9pZCA9PSBhcnJbeV0ucG9zdF9pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnNwbGljZSh5LCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlcnggPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFycik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2FkQ2F0ZWdvcnk6IGZ1bmN0aW9uIChwYWdlKSB7CiAgICAgIGJhY2tlci5nZXQoYGNhdGVnb3J5P3BhZ2U9JHtwYWdlfWApLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5jYXRlZ29yaWVzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXIsCiAgICBDYXJvdXNlbCwKICAgIExpc3QsCiAgICBGb290ZXIsCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkUG9zdCgpOwogICAgdGhpcy5sb2FkQ2F0ZWdvcnkoKTsKICAgIHRoaXMubG9hZExvdmUoKTsKICB9LAp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div id=\"app\">\n    <Header />\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-xl-12\">\n          <Carousel :posts=\"posts\" />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xl-8\">\n          <div class=\"col-xl-12\">\n            <h2 class=\"font-weight-bolder mt-5 mb-3\">Công thức mới nhất</h2>\n          </div>\n          <List\n            :posts=\"posts\"\n            :storePost=\"storePost\"\n            :total=\"total\"\n            :perPage=\"perPage\"\n            :col=\"col\"\n          />\n        </div>\n        <div class=\"col-xl-4\">\n          <div class=\"row\" v-if=\"userx\">\n            <div class=\"col-xl-12\">\n              <h2 class=\"font-weight-bolder mt-5 mb-4\">Công thức đề xuất</h2>\n            </div>\n            <div\n              class=\"col-xl-12 border p-1 d-flex justify-content-start align-items-center\"\n              v-for=\"(post, index) in loveList.slice(0, i)\"\n              :key=\"index\"\n            >\n              <router-link\n                :to=\"{\n                  name: 'view',\n                  params: { id: post.post_id, slug: post.slug },\n                }\"\n              >\n                <img\n                  class=\"img-fluid\"\n                  :src=\"post.image\"\n                  alt=\"\"\n                  height=\"75px\"\n                  width=\"75px\"\n                />\n              </router-link>\n              <div class=\"m-1\">\n                <router-link\n                  class=\"font-weight-bold\"\n                  :to=\"{\n                    name: 'view',\n                    params: { id: post.post_id, slug: post.slug },\n                  }\"\n                >\n                  {{ post.name }}\n                </router-link>\n                <p class=\"\">\n                  <b-badge variant=\"info\" class=\"p-1\">{{\n                    post.category\n                  }}</b-badge>\n                </p>\n              </div>\n            </div>\n            <div class=\"col-xl-12 border p-3 text-center\">\n              <h4 class=\"btn btn-dark\" @click=\"more\">Xem thêm</h4>\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-xl-12\">\n              <h2 class=\"font-weight-bolder mt-5 mb-3\">Chuyên mục</h2>\n            </div>\n            <div class=\"col-xl-12 border\">\n              <div\n                v-for=\"(category, index) in categories\"\n                :key=\"index\"\n                class=\"pt-1\"\n              >\n                <div class=\"border-bottom p-3\">\n                  <router-link\n                    :to=\"{ name: 'category', params: { id: category.id } }\"\n                    :id=\"index\"\n                  >\n                    {{ category.name }}\n                  </router-link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <Footer />\n  </div>\n</template>\n<script>\nimport backer from \"../utils/axios\";\nimport Footer from \"../components/Footer\";\n\nimport Header from \"../components/Header\";\nimport Carousel from \"../components/Carousel\";\nimport List from \"../components/List\";\n\nexport default {\n  data() {\n    return {\n      posts: [],\n      categories: [],\n      total: 0,\n      perPage: 10,\n      perLove: 5,\n      totalLove: 0,\n      love: 0,\n      i: 5,\n      userx: false,\n      col: 6,\n      loveList: [],\n      storePost: \"\",\n      returnedTarget: {},\n    };\n  },\n  methods: {\n    more: function () {\n      this.i += 5;\n    },\n    loadPost: function (page = 1) {\n      backer.get(`post?page=${page}`).then((response) => {\n        this.posts = response.data.data;\n        this.total = response.data.total;\n        this.perPage = response.data.per_page;\n      });\n    },\n    loadLove: function () {\n      let arr = [];\n      backer.get(\"info\").then((response) => {\n        backer\n          .get(\"ingredient_user/\" + response.data.user.id)\n          .then((response) => {\n            if (response.data.status) {\n              let liked = response.data.listLiked;\n              for (let index in response.data.high) {\n                backer\n                  .get(`love?id=${response.data.high[index]}`)\n                  .then((response) => {\n                    if (response.data.status) {\n                      arr = arr.concat(response.data.love.data);\n                      this.loveList = arr;\n\n                      for (let x = 0; x < arr.length; x++) {\n                        for (let z = 0; z < liked.length; z++) {\n                          if (arr[x].post_id == liked[z].post_id) {\n                            arr.splice(x, 1);\n                          }\n                        }\n                        for (let y = x + 1; y < arr.length; y++) {\n                          if (arr[x].post_id == arr[y].post_id) {\n                            arr.splice(y, 1);\n                            break;\n                          }\n                        }\n                      }\n\n                      this.userx = true;\n                    }\n                  });\n              }\n              console.log(arr);\n            }\n          });\n      });\n    },\n    loadCategory: function (page) {\n      backer.get(`category?page=${page}`).then((response) => {\n        this.categories = response.data.data;\n      });\n    },\n  },\n  components: {\n    Header,\n    Carousel,\n    List,\n    Footer,\n  },\n  mounted() {\n    this.loadPost();\n    this.loadCategory();\n    this.loadLove();\n  },\n};\n</script>\n<style scoped>\n</style>\n"]}]}
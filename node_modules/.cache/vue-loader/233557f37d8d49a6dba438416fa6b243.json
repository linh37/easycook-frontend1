{"remainingRequest":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/src/pages/User/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/src/pages/User/Dashboard.vue","mtime":1621061284960},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linhnguyen/Desktop/EasyCook1/easy_cook-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBiYWNrZXIgZnJvbSAiLi4vLi4vdXRpbHMvYXhpb3MiOwppbXBvcnQgSGVhZGVyIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvSGVhZGVyIjsKaW1wb3J0IENhdGVnb3J5IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvQ2F0ZWdvcnkiOwppbXBvcnQgSW5ncmVkaWVudCBmcm9tICIuLi8uLi9jb21wb25lbnRzL0luZ3JlZGllbnQiOwppbXBvcnQgRm9vdGVyIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvRm9vdGVyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb25lOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgdW5pdDogIiIsCiAgICAgIH0sCiAgICAgIHdoaWNoOiAiIiwKICAgICAgZXJyb3JzOiB7fSwKICAgICAgY2F0ZWdvcmllczoge30sCiAgICAgIHRvdGFsOiAwLAogICAgICB1bml0U2hvdzogZmFsc2UsCiAgICAgIGluZ3JlZGllbnRzOiB7fSwKICAgICAgcGVyUGFnZTogMCwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXIsCiAgICBDYXRlZ29yeSwKICAgIEluZ3JlZGllbnQsCiAgICBGb290ZXIsCiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWNjZXNzOiBmdW5jdGlvbiAobmFtZSwgYWN0aW9uLCB2YXJpYW50KSB7CiAgICAgIGlmIChuYW1lID09ICJDaHV5w6puIG3hu6VjIikgdGhpcy5sb2FkQ2F0ZWdvcnkoKTsKICAgICAgZWxzZSBpZiAobmFtZSA9PSAiTmd1ecOqbiBsaeG7h3UiKSB0aGlzLmxvYWRJbmdyZWRpZW50KCk7CiAgICAgIHRoaXMuJGJ2VG9hc3QudG9hc3QoCiAgICAgICAgYCR7bmFtZX0gxJHDoyDEkcaw4bujYyAke2FjdGlvbn0gdGjDoG5oIGPDtG5nLiBE4buvIGxp4buHdSDEkcOjIMSRxrDhu6NjIGPhuq1wIG5o4bqtdCBs4bqhaS5gLAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiAiVGjDtG5nIGLDoW8iLAogICAgICAgICAgdmFyaWFudDogYCR7dmFyaWFudH1gLAogICAgICAgICAgc29saWQ6IHRydWUsCiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChlcnJvcikgewogICAgICBsZXQgZXJyOwogICAgICBpZiAoZXJyb3IuZXJyb3JzLm5hbWUpIGVyciA9IGVycm9yLmVycm9ycy5uYW1lOwogICAgICBlbHNlIGlmIChlcnJvci5lcnJvcnMudW5pdCkgZXJyID0gZXJyb3IuZXJyb3JzLnVuaXQ7CgogICAgICB0aGlzLiRidlRvYXN0LnRvYXN0KGAke2Vycn1gLCB7CiAgICAgICAgdGl0bGU6IGBDw7MgbOG7l2kgdnVpIGzDsm5nIHRo4butIGzhuqFpYCwKICAgICAgICB2YXJpYW50OiAiZGFuZ2VyIiwKICAgICAgICBzb2xpZDogdHJ1ZSwKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLndoaWNoID09ICJjYXRlZ29yeSIpIHsKICAgICAgICBiYWNrZXIKICAgICAgICAgIC5wb3N0KCJjYXRlZ29yeSIsIHRoaXMub25lKQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cykgewogICAgICAgICAgICAgIHRoaXMuc3VjY2VzcygiQ2h1ecOqbiBt4bulYyIsICJ04bqhbyBt4bubaSIsICJzdWNjZXNzIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZmFpbHVyZShlcnJvci5yZXNwb25zZS5kYXRhKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmICh0aGlzLndoaWNoID09ICJpbmdyZWRpZW50IikgewogICAgICAgIGJhY2tlcgogICAgICAgICAgLnBvc3QoImluZ3JlZGllbnQiLCB0aGlzLm9uZSkKICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3MoIk5ndXnDqm4gbGnhu4d1IiwgInThuqFvIG3hu5tpIiwgInN1Y2Nlc3MiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgdGhpcy5mYWlsdXJlKGVycm9yLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy5vbmUgPSB7fTsKICAgIH0sCgogICAgZGVsZXRlQ2F0ZWdvcnk6IGZ1bmN0aW9uIChpZCkgewogICAgICBsZXQgY2hvb3NlID0gY29uZmlybSgiQuG6oW4gY8OzIHRo4buxYyBz4buxIG114buRbiB4w7NhIGNodXnDqm4gbeG7pWMgbsOgeSBraMO0bmcgPyIpOwogICAgICBpZiAoY2hvb3NlID09IHRydWUpCiAgICAgICAgYmFja2VyLmRlbGV0ZSgiY2F0ZWdvcnkvIiArIGlkKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgIHRoaXMuc3VjY2VzcygiQ2h1ecOqbiBt4bulYyIsICJ4w7NhIiwgIndhcm5pbmciKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCgogICAgbG9hZENhdGVnb3J5OiBmdW5jdGlvbiAocGFnZSA9IDEpIHsKICAgICAgYmFja2VyLmdldChgY2F0ZWdvcnk/cGFnZT0ke3BhZ2V9YCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLmNhdGVnb3JpZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWw7CiAgICAgICAgdGhpcy5wZXJQYWdlID0gcmVzcG9uc2UuZGF0YS5wZXJfcGFnZTsKICAgICAgfSk7CiAgICB9LAoKICAgIGxvYWRJbmdyZWRpZW50OiBmdW5jdGlvbiAobmFtZSA9ICIiKSB7CiAgICAgIGJhY2tlci5nZXQoYGluZ3JlZGllbnQ/c2VhcmNoPSR7bmFtZX1gKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMuaW5ncmVkaWVudHMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCgogICAgZWRpdEluZ3JlZGllbnQ6IGZ1bmN0aW9uIChpZCwgbmFtZSwgdW5pdCkgewogICAgICBsZXQgaW5ncmVkaWVudCA9IHByb21wdCgiVnVpIGzDsm5nIG5o4bqtcCB0w6puIG5ndXnDqm4gbGnhu4d1IG114buRbiBz4butYSIsIG5hbWUpOwogICAgICBsZXQgdW5pdEluZ3JlZGllbnQgPSBwcm9tcHQoIlZ1aSBsw7JuZyBuaOG6rXAgdMOqbiBuZ3V5w6puIGxp4buHdSBtdeG7kW4gc+G7rWEiLCB1bml0KTsKICAgICAgdGhpcy5pbmdyZWRpZW50ID0gewogICAgICAgIG5hbWU6IGluZ3JlZGllbnQsCiAgICAgICAgdW5pdDogdW5pdEluZ3JlZGllbnQsCiAgICAgIH07CiAgICAgIGlmIChpbmdyZWRpZW50ICE9IG51bGwpIHsKICAgICAgICBiYWNrZXIKICAgICAgICAgIC5wdXQoImluZ3JlZGllbnQvIiArIGlkLCB0aGlzLmluZ3JlZGllbnQpCiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzKCJOZ3V5w6puIGxp4buHdSIsICJj4bqtcCBuaOG6rXQiLCAiaW5mbyIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICB0aGlzLmZhaWx1cmUoZXJyb3IucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBlZGl0Q2F0ZWdvcnk6IGZ1bmN0aW9uIChpZCwgbmFtZSkgewogICAgICBsZXQgY2F0ZWdvcnkgPSBwcm9tcHQoIlZ1aSBsw7JuZyBuaOG6rXAgdMOqbiBjaHV5w6puIG3hu6VjIG114buRbiBz4butYSIsIG5hbWUpOwogICAgICB0aGlzLmNhdGVnb3J5ID0gewogICAgICAgIG5hbWU6IGNhdGVnb3J5LAogICAgICB9OwogICAgICBpZiAoY2F0ZWdvcnkgIT0gbnVsbCkgewogICAgICAgIGJhY2tlcgogICAgICAgICAgLnB1dCgiY2F0ZWdvcnkvIiArIGlkLCB0aGlzLmNhdGVnb3J5KQogICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cykgewogICAgICAgICAgICAgIHRoaXMuc3VjY2VzcygiQ2h1ecOqbiBt4bulYyIsICJj4bqtcCBuaOG6rXQiLCAiaW5mbyIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICB0aGlzLmZhaWx1cmUoZXJyb3IucmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICB9LAogIHVwZGF0ZWQoKSB7fSwKICBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkQ2F0ZWdvcnkoKTsKICAgIHRoaXMubG9hZEluZ3JlZGllbnQoKTsKICB9LAp9Owo="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/pages/User","sourcesContent":["<template>\n  <section>\n    <Header />\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"container d-flex flex-column\">\n          <div\n            class=\"row border border-info justify-content-center align-items-center p-5 mt-5 mb-5\"\n          >\n            <form class=\"col-lg-6 mx-auto\" @submit.prevent=\"handle()\">\n              <div class=\"form-group\">\n                <label class=\"form-control-label\">Tạo mới: </label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  class=\"form-control\"\n                  v-model=\"one.name\"\n                />\n              </div>\n\n              <div class=\"form-group\" v-if=\"unitShow\">\n                <label class=\"form-control-label\">Đơn vị tính: </label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  class=\"form-control\"\n                  v-model=\"one.unit\"\n                />\n              </div>\n\n              <div class=\"form-check\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"which\"\n                  id=\"which1\"\n                  value=\"category\"\n                  v-model=\"which\"\n                  @click=\"unitShow = false\"\n                />\n                <label class=\"form-check-label\" for=\"which1\">\n                  Chuyên mục\n                </label>\n              </div>\n              <div class=\"form-check\">\n                <input\n                  class=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"which\"\n                  id=\"which2\"\n                  value=\"ingredient\"\n                  v-model=\"which\"\n                  @click=\"unitShow = true\"\n                />\n                <label class=\"form-check-label\" for=\"which2\">\n                  Nguyên liệu\n                </label>\n              </div>\n\n              <div class=\"d-flex align-items-center\">\n                <button type=\"submit\" class=\"m-2 btn btn-info\">Tạo mới</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <Category\n          :categories=\"categories\"\n          :total=\"total\"\n          :perPage=\"perPage\"\n          class=\"col-xl-8 col-sm-6\"\n        />\n        <Ingredient :ingredients=\"ingredients\" class=\"col-xl-4 col-sm-6\" />\n      </div>\n    </div>\n    <Footer />\n  </section>\n</template>\n<script>\nimport backer from \"../../utils/axios\";\nimport Header from \"../../components/Header\";\nimport Category from \"../../components/Category\";\nimport Ingredient from \"../../components/Ingredient\";\nimport Footer from \"../../components/Footer\";\n\nexport default {\n  data() {\n    return {\n      one: {\n        name: \"\",\n        unit: \"\",\n      },\n      which: \"\",\n      errors: {},\n      categories: {},\n      total: 0,\n      unitShow: false,\n      ingredients: {},\n      perPage: 0,\n    };\n  },\n  components: {\n    Header,\n    Category,\n    Ingredient,\n    Footer,\n  },\n  methods: {\n    success: function (name, action, variant) {\n      if (name == \"Chuyên mục\") this.loadCategory();\n      else if (name == \"Nguyên liệu\") this.loadIngredient();\n      this.$bvToast.toast(\n        `${name} đã được ${action} thành công. Dữ liệu đã được cập nhật lại.`,\n        {\n          title: \"Thông báo\",\n          variant: `${variant}`,\n          solid: true,\n        }\n      );\n    },\n    failure: function (error) {\n      let err;\n      if (error.errors.name) err = error.errors.name;\n      else if (error.errors.unit) err = error.errors.unit;\n\n      this.$bvToast.toast(`${err}`, {\n        title: `Có lỗi vui lòng thử lại`,\n        variant: \"danger\",\n        solid: true,\n      });\n    },\n    handle: function () {\n      if (this.which == \"category\") {\n        backer\n          .post(\"category\", this.one)\n          .then((response) => {\n            if (response.data.status) {\n              this.success(\"Chuyên mục\", \"tạo mới\", \"success\");\n            }\n          })\n          .catch((error) => {\n            this.failure(error.response.data);\n          });\n      }\n      if (this.which == \"ingredient\") {\n        backer\n          .post(\"ingredient\", this.one)\n          .then((response) => {\n            if (response.data.status) {\n              this.success(\"Nguyên liệu\", \"tạo mới\", \"success\");\n            }\n          })\n          .catch((error) => {\n            this.failure(error.response.data);\n          });\n      }\n      this.one = {};\n    },\n\n    deleteCategory: function (id) {\n      let choose = confirm(\"Bạn có thực sự muốn xóa chuyên mục này không ?\");\n      if (choose == true)\n        backer.delete(\"category/\" + id).then((response) => {\n          if (response.data.status) {\n            this.success(\"Chuyên mục\", \"xóa\", \"warning\");\n          }\n        });\n    },\n\n    loadCategory: function (page = 1) {\n      backer.get(`category?page=${page}`).then((response) => {\n        this.categories = response.data.data;\n        this.total = response.data.total;\n        this.perPage = response.data.per_page;\n      });\n    },\n\n    loadIngredient: function (name = \"\") {\n      backer.get(`ingredient?search=${name}`).then((response) => {\n        this.ingredients = response.data;\n      });\n    },\n\n    editIngredient: function (id, name, unit) {\n      let ingredient = prompt(\"Vui lòng nhập tên nguyên liệu muốn sửa\", name);\n      let unitIngredient = prompt(\"Vui lòng nhập tên nguyên liệu muốn sửa\", unit);\n      this.ingredient = {\n        name: ingredient,\n        unit: unitIngredient,\n      };\n      if (ingredient != null) {\n        backer\n          .put(\"ingredient/\" + id, this.ingredient)\n          .then((response) => {\n            if (response.data.status) {\n              this.success(\"Nguyên liệu\", \"cập nhật\", \"info\");\n            }\n          })\n          .catch((error) => {\n            this.failure(error.response.data);\n          });\n      }\n    },\n\n    editCategory: function (id, name) {\n      let category = prompt(\"Vui lòng nhập tên chuyên mục muốn sửa\", name);\n      this.category = {\n        name: category,\n      };\n      if (category != null) {\n        backer\n          .put(\"category/\" + id, this.category)\n          .then((response) => {\n            if (response.data.status) {\n              this.success(\"Chuyên mục\", \"cập nhật\", \"info\");\n            }\n          })\n          .catch((error) => {\n            this.failure(error.response.data);\n          });\n      }\n    },\n  },\n  updated() {},\n  mounted() {\n    this.loadCategory();\n    this.loadIngredient();\n  },\n};\n</script>\n<style scoped>\n</style>\n"]}]}